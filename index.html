<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title>GiftMatch ‚Äì G·ª£i √Ω qu√† th√¥ng minh</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --pink: #f8c6cc;
      --pink-dark: #f39aa6;
      --bg: #fff6f8;
      --text: #333;
      --card: #ffffff;
      --radius: 16px;
    }

    * { box-sizing: border-box; font-family: system-ui, -apple-system, BlinkMacSystemFont; }
    body { margin: 0; background: var(--bg); color: var(--text); }

    header { padding: 20px 40px; display: flex; justify-content: space-between; align-items: center; }
    header h1 { margin: 0; font-size: 22px; }
    header button { background: var(--pink); border: none; padding: 10px 18px; border-radius: 999px; cursor: pointer; font-weight: 600; }

    .hero { text-align: center; padding: 60px 20px 40px; }
    .hero h2 { font-size: 34px; margin-bottom: 12px; }
    .hero p { max-width: 620px; margin: 0 auto 24px; opacity: 0.85; }
    .cta { background: var(--pink-dark); color: white; border: none; padding: 14px 28px; border-radius: 999px; font-size: 16px; cursor: pointer; }

    .filters { max-width: 900px; background: white; margin: 0 auto; padding: 24px; border-radius: var(--radius); box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
    .filter-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 12px; align-items: center; }
    select, .filter-btn { padding: 12px; border-radius: 12px; border: 1px solid #ddd; font-size: 14px; }
    .filter-btn { background: var(--pink); border: none; font-weight: 600; cursor: pointer; }

    .results { max-width: 1100px; margin: 40px auto; padding: 0 20px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; margin-top: 20px; }

    .card { background: var(--card); border-radius: var(--radius); padding: 16px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); display: flex; flex-direction: column; }
    .card img { width: 100%; height: 180px; object-fit: cover; border-radius: 12px; margin-bottom: 12px; }
    .price { font-weight: bold; color: #e26b7a; margin-bottom: 6px; }
    .card a { margin-top: auto; text-align: center; padding: 10px; border-radius: 999px; background: var(--pink-dark); color: white; text-decoration: none; font-size: 14px; }

    .bottom-cta { background: #ffe9ed; text-align: center; padding: 40px 20px; margin-top: 60px; }
    footer { text-align: center; padding: 20px; font-size: 14px; opacity: 0.7; }
    @media (max-width:520px){ .hero h2{font-size:24px} .card img{height:150px} }
  </style>
</head>

<body>

<header>
  <h1>üéÅ GiftMatch</h1>
  <button onclick="scrollToFilters()">B·∫Øt ƒë·∫ßu</button>
</header>

<section class="hero">
  <h2>ƒêau ƒë·∫ßu khi kh√¥ng bi·∫øt t·∫∑ng g√¨?</h2>
  <p>G·ª£i √Ω qu√† c·ª±c h·ª£p ‚Äì c·ª±c x·ªãn cho t·ª´ng ng∆∞·ªùi, t·ª´ng d·ªãp, t·ª´ng vibe. Ch·ªâ c·∫ßn v√†i c√∫ click!</p>
  <button class="cta" onclick="scrollToFilters()">T√¨m qu√† ngay</button>
</section>

<section class="filters" id="filters">
  <div class="filter-grid">
    <select id="receiver">
      <option value="">Ng∆∞·ªùi nh·∫≠n</option>
      <option> B·∫°n g√°i</option>
      <option> B·∫°n trai</option>
      <option> M·∫π</option>
      <option> B·∫°n b√®</option>
    </select>

    <select id="occasion">
      <option value="">D·ªãp</option>
      <option>Sinh nh·∫≠t</option>
      <option>K·ª∑ ni·ªám</option>
      <option>L·ªÖ</option>
    </select>

    <select id="price">
      <option value="">T·∫ßm gi√°</option>
      <option value="under_200">D∆∞·ªõi 200k</option>
      <option value="200_400">200k‚Äì400k</option>
      <option value="400_800">400k‚Äì800k</option>
      <option value="over_800">Tr√™n 800k</option>
    </select>

    <select id="personality">
      <option value="">T√≠nh c√°ch</option>
      <option>L√£ng m·∫°n</option>
      <option>Th·ª±c t·∫ø</option>
      <option>D·ªÖ th∆∞∆°ng</option>
      <option>T√¨nh c·∫£m</option>
    </select>

    <button class="filter-btn" onclick="filterGifts()">G·ª£i √Ω ngay</button>
  </div>
</section>

<section class="results">
  <h3>Danh s√°ch qu√† g·ª£i √Ω</h3>
  <div class="cards" id="cards"></div>
</section>

<section class="bottom-cta">
  <h3>B·∫°n c√≤n ph√¢n v√¢n?</h3>
  <p>Xem th√™m nh·ªØng g·ª£i √Ω ph√π h·ª£p h∆°n cho b·∫°n</p>
  <button class="cta" onclick="filterGifts()">Xem g·ª£i √Ω ngay</button>
</section>

<footer>¬© 2025 GiftMatch ¬∑ contact@giftmatch.com</footer>

<script>
/* ---------- D·ªÆ LI·ªÜU QU√Ä (v√≠ d·ª•; thay b·∫±ng 100 m√≥n n·∫øu b·∫°n ƒë√£ convert Excel) ---------- */
const gifts = [
  { name: "N·∫øn th∆°m handmade", price: "150k‚Äì300k", desc: "H∆∞∆°ng nh·∫π nh√†ng, th∆∞ gi√£n", receiver: "B·∫°n g√°i", occasion: "Sinh nh·∫≠t", personality: "L√£ng m·∫°n", img: "https://images.unsplash.com/photo-1603006905003-be475563bc59", link: "#" },
  { name: "G·∫•u b√¥ng l·ªõn", price: "200k‚Äì400k", desc: "D·ªÖ th∆∞∆°ng, √¥m ng·ªß", receiver: "B·∫°n g√°i", occasion: "K·ª∑ ni·ªám", personality: "D·ªÖ th∆∞∆°ng", img: "https://images.unsplash.com/photo-1558888401-3cc1de77652d", link: "#" },
  { name: "V√≠ da nam", price: "450k‚Äì900k", desc: "G·ªçn g√†ng, sang tr·ªçng", receiver: "B·∫°n trai", occasion: "Sinh nh·∫≠t", personality: "Th·ª±c t·∫ø", img: "https://images.unsplash.com/photo-1600180758890-6b94519a8ba6", link: "#" },
  { name: "Tumbler gi·ªØ nhi·ªát", price: "250k‚Äì500k", desc: "D√πng h·∫±ng ng√†y", receiver: "B·∫°n b√®", occasion: "Sinh nh·∫≠t", personality: "Th·ª±c t·∫ø", img: "https://images.unsplash.com/photo-1585238342028-4d8a1d85b2cc", link: "#" },
  { name: "Khung ·∫£nh ƒë·ªÉ b√†n", price: "150k‚Äì250k", desc: "L∆∞u gi·ªØ k·ª∑ ni·ªám", receiver: "M·∫π", occasion: "L·ªÖ", personality: "T√¨nh c·∫£m", img: "https://images.unsplash.com/photo-1504198453319-5ce911bafcde", link: "#" },
  { name: "B·ªô m·ªπ ph·∫©m mini", price: "300k‚Äì700k", desc: "Xinh x·∫Øn, ti·ªán mang theo", receiver: "B·∫°n g√°i", occasion: "L·ªÖ", personality: "L√£ng m·∫°n", img: "https://images.unsplash.com/photo-1596462502278-27bfdc403348", link: "#" },
  { name: "Loa Bluetooth", price: "600k‚Äì1500k", desc: "√Çm thanh hay, phong c√°ch", receiver: "B·∫°n trai", occasion: "K·ª∑ ni·ªám", personality: "Th·ª±c t·∫ø", img: "https://images.unsplash.com/photo-1518444022485-2e6e6b9f1f1c", link: "#" },
  { name: "Set tr√† th·∫£o m·ªôc", price: "120k‚Äì220k", desc: "Th∆°m m√°t, th∆∞ gi√£n", receiver: "M·∫π", occasion: "Sinh nh·∫≠t", personality: "T√¨nh c·∫£m", img: "https://images.unsplash.com/photo-1523986371872-9d3ba2e2f642", link: "#" }
];

/* ---------- H·ªñ TR·ª¢ PH√ÇN T√çCH GI√Å ---------- */
function parsePriceRange(priceStr){
  // nh·∫≠n chu·ªói nh∆∞ "150k‚Äì300k" ho·∫∑c "400k‚Äì800k" ho·∫∑c "600k" ho·∫∑c "Tr√™n 800k", "D∆∞·ªõi 200k"
  if(!priceStr) return [0, Infinity];
  priceStr = priceStr.toString().toLowerCase().replace(/\s+/g,'');
  if(priceStr.includes('d∆∞·ªõi')) {
    // "D∆∞·ªõi200k"
    const num = priceStr.match(/\d+/);
    const v = num ? Number(num[0])*1000 : Infinity;
    return [0, v];
  }
  if(priceStr.includes('tr√™n')) {
    const num = priceStr.match(/\d+/);
    const v = num ? Number(num[0])*1000 : 0;
    return [v, Infinity];
  }
  // t√¨m c√°c s·ªë: "150k‚Äì300k" ho·∫∑c "450k‚Äì900k"
  const nums = priceStr.match(/\d+/g);
  if(nums && nums.length>=2){
    const a = Number(nums[0]) * 1000;
    const b = Number(nums[1]) * 1000;
    return [Math.min(a,b), Math.max(a,b)];
  } else if(nums && nums.length===1){
    const a = Number(nums[0])*1000;
    return [a, a];
  }
  return [0, Infinity];
}

function priceCategoryMatches(giftPriceStr, selectedCategory){
  if(!selectedCategory) return true;
  const [min, max] = parsePriceRange(giftPriceStr);
  switch(selectedCategory){
    case 'under_200': return min < 200000; // any gift with min <200k
    case '200_400': return !(max < 200000 || min > 400000); // overlap with 200-400
    case '400_800': return !(max < 400000 || min > 800000);
    case 'over_800': return max > 800000;
    default: return true;
  }
}

/* ---------- L·ªåC V√Ä HI·ªÇN TH·ªä ---------- */
function filterGifts() {
  const receiver = (document.getElementById("receiver").value || "").trim();
  const occasion = (document.getElementById("occasion").value || "").trim();
  const personality = (document.getElementById("personality").value || "").trim();
  const price = (document.getElementById("price").value || "").trim();

  const cards = document.getElementById("cards");
  cards.innerHTML = "";

  const result = gifts.filter(g => {
    let ok = true;
    if(receiver) ok = ok && ( (g.receiver||"").toLowerCase().includes(receiver.toLowerCase()) );
    if(occasion) ok = ok && ( (g.occasion||"").toLowerCase().includes(occasion.toLowerCase()) );
    if(personality) ok = ok && ( (g.personality||"").toLowerCase().includes(personality.toLowerCase()) );
    if(price) ok = ok && priceCategoryMatches(g.price, price);
    return ok;
  });

  if (result.length === 0) {
    cards.innerHTML = "<p>üò¢ Kh√¥ng t√¨m th·∫•y qu√† ph√π h·ª£p. Th·ª≠ ch·ªçn kh√°c nh√©!</p>";
    return;
  }

  // show up to 12 results
  result.slice(0, 12).forEach(gift => {
    const img = gift.img ? gift.img + (gift.img.includes('?') ? '&' : '?') + 'w=800' : 'https://via.placeholder.com/400x300?text=No+Image';
    cards.innerHTML += `
      <div class="card">
        <img src="${img}" alt="${escapeHtml(gift.name)}">
        <h4>${escapeHtml(gift.name)}</h4>
        <div class="price">${escapeHtml(gift.price)}</div>
        <p>${escapeHtml(gift.desc)}</p>
        <a href="${gift.link || '#'}" target="_blank">Xem & mua</a>
      </div>
    `;
  });
}

// small helper to avoid HTML injection if any
function escapeHtml(s){
  if(!s) return '';
  return String(s).replace(/[&<>"']/g, function(m){
    return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m];
  });
}

function scrollToFilters() {
  document.getElementById("filters").scrollIntoView({ behavior: "smooth" });
}

/* ---------- auto show some suggestions on load ---------- */
document.addEventListener('DOMContentLoaded', () => {
  filterGifts();
});
</script>

</body>
</html>
